<!-- Client 1 connecting to server running on port 8000 -->
<h3>Client 1 (Port 8000)</h3>
<input type="text" id="messageInput1" placeholder="Enter message">
<button onclick="sendMessage(1)">Send</button>
<div id="messageContainer1"></div>

<!-- Client 2 connecting to server running on port 8001 -->
<h3>Client 2 (Port 8001)</h3>
<input type="text" id="messageInput2" placeholder="Enter message">
<button onclick="sendMessage(2)">Send</button>
<div id="messageContainer2"></div>

<script>
    function connectWebSocket(port, clientNumber) {
        const websocket = new WebSocket(`ws://localhost:${port}/ws`);

        websocket.onopen = function(event) {
            console.log(`WebSocket connection ${clientNumber} established`);
        };

        websocket.onmessage = function(event) {
            const messageContainer = document.getElementById(`messageContainer${clientNumber}`);
            messageContainer.innerHTML += `<p>${event.data}</p>`;
        };

        websocket.onerror = function(event) {
            console.error(`WebSocket error ${clientNumber}:`, event);
        };

        return websocket;
    }

    const websocket1 = connectWebSocket(8000, 1); // Connect client 1 to server running on port 8000
    const websocket2 = connectWebSocket(8001, 2); // Connect client 2 to server running on port 8001

    function sendMessage(clientNumber) {
        const messageInput = document.getElementById(`messageInput${clientNumber}`);
        const message = messageInput.value.trim();
        if (message !== "") {
            const websocket = clientNumber === 1 ? websocket1 : websocket2;
            websocket.send(message);
            messageInput.value = "";
        }
    }